import{_ as s,c as a,b as e,o as l}from"./app-DNjG2iId.js";const h={};function n(t,i){return l(),a("div",null,[...i[0]||(i[0]=[e('<p><strong>注意：</strong> 先进入 <code>system-view</code> 模式。</p><h2 id="_1-创建新的vlan" tabindex="-1"><a class="header-anchor" href="#_1-创建新的vlan"><span>1. 创建新的VLAN</span></a></h2><p>使用以下命令创建VLAN：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">vlan</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> batch</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 300</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>说明：</strong><br> 此时刚把VLAN划出来，还没有把接口添加进去。如果某个接口还没有被分配VLAN，它会默认存在VLAN1下。</p><h2 id="_2-配置端口的模式-将接口关联vlan" tabindex="-1"><a class="header-anchor" href="#_2-配置端口的模式-将接口关联vlan"><span>2. 配置端口的模式，将接口关联VLAN</span></a></h2><ul><li><p>进入端口配置模式：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">interface</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> GigabitEthernet0/0/17</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>将端口设为Access/Trunk模式（只属于一个VLAN）：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">port</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> link-type</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> access/trunk</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>将端口默认VLAN设为300，发送/接收untagged帧：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">port</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> default</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> vlan</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 300</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>返回系统视图：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">quit</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><h2 id="_3-销毁vlan" tabindex="-1"><a class="header-anchor" href="#_3-销毁vlan"><span>3. 销毁VLAN</span></a></h2><p>使用以下命令销毁VLAN：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">undo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> vlan</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 300</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>说明：</strong><br> VLAN里面的接口也恢复初始化了。</p><h2 id="_4-配置vlanif" tabindex="-1"><a class="header-anchor" href="#_4-配置vlanif"><span>4. 配置Vlanif</span></a></h2><p>Vlanif是交换机上基于VLAN创建的逻辑接口。每个VLAN可以对应一个Vlanif接口，通过该接口可以为相应的VLAN配置IP地址，使其具备三层路由功能。</p><h3 id="作用" tabindex="-1"><a class="header-anchor" href="#作用"><span>作用</span></a></h3><ul><li><strong>实现VLAN间路由</strong>：在传统的二层交换网络中，不同VLAN之间的主机无法直接通信。通过配置Vlanif接口并启用路由功能，交换机可以作为三层设备，实现不同VLAN之间的数据转发，使不同VLAN内的主机能够相互通信。</li><li><strong>作为网关</strong>：Vlanif接口可以为所属VLAN内的主机提供默认网关。主机将数据包发送到Vlanif接口配置的IP地址，交换机再根据路由表将数据包转发到目标网络。</li></ul><h3 id="配置步骤" tabindex="-1"><a class="header-anchor" href="#配置步骤"><span>配置步骤</span></a></h3><ul><li><p>创建Vlanif 300接口：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">interface</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Vlanif</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 300</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>配置Vlanif 300的IP地址：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ip</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> address</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 192.168.300.1</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 24</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>确认是否启用：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">display</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> interface</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Vlanif</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 300</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul>',17)])])}const r=s(h,[["render",n]]),k=JSON.parse('{"path":"/notes/%E5%AE%9E%E6%93%8D/76q1whm2/","title":"划分Vlan","lang":"zh-CN","frontmatter":{"title":"划分Vlan","createTime":"2025/10/02 10:56:23","permalink":"/notes/实操/76q1whm2/"},"readingTime":{"minutes":1.46,"words":438},"git":{"createdTime":1759802183000,"updatedTime":1759802183000,"contributors":[{"name":"BlackSiao","username":"BlackSiao","email":"1546600539@qq.com","commits":1,"avatar":"https://avatars.githubusercontent.com/BlackSiao?v=4","url":"https://github.com/BlackSiao"}]},"filePathRelative":"notes/实操/划分Vlan.md","headers":[],"categoryList":[{"id":"4358b5","sort":10000,"name":"notes"},{"id":"9d4d99","sort":10001,"name":"实操"}]}');export{r as comp,k as data};
