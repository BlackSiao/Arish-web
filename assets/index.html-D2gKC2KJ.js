import{_ as l,c as e,d as t,o as s}from"./app-UDSOE8tV.js";const a={};function r(n,i){return s(),e("div",null,[...i[0]||(i[0]=[t('<h2 id="一、redis-运维需要掌握的核心内容" tabindex="-1"><a class="header-anchor" href="#一、redis-运维需要掌握的核心内容"><span>一、Redis 运维需要掌握的核心内容</span></a></h2><h3 id="_1-redis-基础知识" tabindex="-1"><a class="header-anchor" href="#_1-redis-基础知识"><span>1. Redis 基础知识</span></a></h3><ul><li><p><strong>数据类型</strong>：</p><ul><li>String</li><li>Hash</li><li>List</li><li>Set</li><li>Sorted Set</li><li>Stream 等</li></ul></li><li><p><strong>基本命令</strong>：</p><ul><li>GET、SET</li><li>HGET/HSET</li><li>LPUSH/LPUSHX</li><li>SADD</li><li>ZADD</li><li>EXPIRE 等</li></ul></li><li><p><strong>持久化方式</strong>：</p><ul><li>RDB（快照）</li><li>AOF（Append Only File）</li><li>混合持久化（Redis 7+）</li></ul></li><li><p><strong>内存管理</strong>：</p><ul><li>内存淘汰策略（volatile-lru、allkeys-lru 等）</li><li>内存占用监控（INFO memory）</li></ul></li></ul><h3 id="_2-部署与架构" tabindex="-1"><a class="header-anchor" href="#_2-部署与架构"><span>2. 部署与架构</span></a></h3><ul><li><p><strong>单节点部署</strong>：</p><ul><li>基本安装、启动、配置文件</li></ul></li><li><p><strong>主从复制（Master-Slave）</strong>：</p><ul><li>读写分离，数据备份</li></ul></li><li><p><strong>哨兵模式（Sentinel）</strong>：</p><ul><li>高可用，自动故障切换</li></ul></li><li><p><strong>Cluster 集群模式</strong>：</p><ul><li>分片（Sharding）、水平扩展、Slot 概念</li></ul></li><li><p><strong>持久化配置优化</strong>：</p><ul><li>RDB/AOF 触发条件</li><li>fsync 策略</li><li>内存压缩和对象编码（ziplist、intset 等）</li></ul></li></ul><h3 id="_3-监控与运维" tabindex="-1"><a class="header-anchor" href="#_3-监控与运维"><span>3. 监控与运维</span></a></h3><ul><li><p><strong>状态监控</strong>：</p><ul><li>INFO 命令（CPU、内存、客户端、复制、持久化）</li><li>客户端连接数、慢查询（SLOWLOG）</li><li>哨兵状态、集群状态</li></ul></li><li><p><strong>日志与报警</strong>：</p><ul><li>redis.log 配置、日志级别</li><li>常见报警指标：内存使用率、延迟、慢查询、实例不可用</li></ul></li></ul><h3 id="_4-安全性" tabindex="-1"><a class="header-anchor" href="#_4-安全性"><span>4. 安全性</span></a></h3><ul><li>绑定 IP、密码认证（requirepass）</li><li>配置只读从节点</li><li>防火墙和访问控制列表（ACL，Redis 6+）</li></ul><h3 id="_5-备份与恢复" tabindex="-1"><a class="header-anchor" href="#_5-备份与恢复"><span>5. 备份与恢复</span></a></h3><ul><li>RDB/AOF 手动备份</li><li>恢复数据到新节点</li><li>集群数据迁移</li></ul><h3 id="_6-性能优化" tabindex="-1"><a class="header-anchor" href="#_6-性能优化"><span>6. 性能优化</span></a></h3><ul><li>避免大 Key 或大 List/Set/Hash（容易阻塞）</li><li>使用管道（Pipeline）批量操作</li><li>合理设置过期时间（TTL）</li><li>内存优化策略：对象编码、内存淘汰策略</li><li>客户端连接池和请求压测</li></ul><h2 id="二、redis-常见问题-运维视角" tabindex="-1"><a class="header-anchor" href="#二、redis-常见问题-运维视角"><span>二、Redis 常见问题（运维视角）</span></a></h2><h3 id="_1-实例不可用" tabindex="-1"><a class="header-anchor" href="#_1-实例不可用"><span>1. 实例不可用</span></a></h3><ul><li><strong>原因</strong>：Redis 服务未启动、配置错误、端口被占用</li><li><strong>排查</strong>：<code>ps -ef | grep redis</code>、<code>redis-cli ping</code></li></ul><h3 id="_2-内存不足-oom" tabindex="-1"><a class="header-anchor" href="#_2-内存不足-oom"><span>2. 内存不足 / OOM</span></a></h3><ul><li><strong>原因</strong>：Key 太多，淘汰策略不合理</li><li><strong>排查</strong>：INFO memory，查看 used_memory、maxmemory，分析大 Key</li></ul><h3 id="_3-慢查询-阻塞" tabindex="-1"><a class="header-anchor" href="#_3-慢查询-阻塞"><span>3. 慢查询 / 阻塞</span></a></h3><ul><li><strong>原因</strong>：单个命令耗时过长（如 KEYS *、大集合操作）</li><li><strong>排查</strong>：SLOWLOG GET、MONITOR，分析热点命令</li></ul><h3 id="_4-主从同步问题" tabindex="-1"><a class="header-anchor" href="#_4-主从同步问题"><span>4. 主从同步问题</span></a></h3><ul><li><strong>原因</strong>：网络延迟、带宽不足、AOF/RDB 过大</li><li><strong>排查</strong>：INFO replication，查看 master_link_status、slave_repl_offset</li></ul><h3 id="_5-持久化文件损坏" tabindex="-1"><a class="header-anchor" href="#_5-持久化文件损坏"><span>5. 持久化文件损坏</span></a></h3><ul><li><strong>原因</strong>：磁盘写入异常、意外断电</li><li><strong>排查</strong>：查看 redis.log，RDB/AOF 重写失败日志</li><li><strong>恢复</strong>：从备份 RDB/AOF 恢复</li></ul><h3 id="_6-集群节点不可用" tabindex="-1"><a class="header-anchor" href="#_6-集群节点不可用"><span>6. 集群节点不可用</span></a></h3><ul><li><strong>原因</strong>：节点宕机、网络分区</li><li><strong>排查</strong>：<code>redis-cli -c cluster nodes</code>，Sentinel 日志</li><li><strong>处理</strong>：故障切换，重新分配 slot</li></ul><h3 id="_7-客户端连接异常" tabindex="-1"><a class="header-anchor" href="#_7-客户端连接异常"><span>7. 客户端连接异常</span></a></h3><ul><li><strong>原因</strong>：连接数过多、慢查询阻塞、网络不稳定</li><li><strong>排查</strong>：CLIENT LIST、慢日志</li><li><strong>优化</strong>：连接池、限制最大客户端数、配置 timeout</li></ul><h2 id="三、建议学习路线-运维角度" tabindex="-1"><a class="header-anchor" href="#三、建议学习路线-运维角度"><span>三、建议学习路线（运维角度）</span></a></h2><ol><li>熟悉 Redis 基础命令和数据类型</li><li>学会部署单节点实例，理解持久化配置</li><li>学会配置主从复制和哨兵，模拟故障切换</li><li>学习 Redis Cluster，理解 slot 分配和迁移</li><li>学会常用监控、慢查询分析、内存分析</li><li>学会备份、恢复和性能调优</li></ol>',30)])])}const d=l(a,[["render",r]]),p=JSON.parse('{"path":"/notes/%E4%B8%AD%E9%97%B4%E4%BB%B6/gzbpurt4/","title":"redis","lang":"zh-CN","frontmatter":{"title":"redis","createTime":"2025/12/24 17:07:55","permalink":"/notes/中间件/gzbpurt4/","description":"一、Redis 运维需要掌握的核心内容 1. Redis 基础知识 数据类型： String Hash List Set Sorted Set Stream 等 基本命令： GET、SET HGET/HSET LPUSH/LPUSHX SADD ZADD EXPIRE 等 持久化方式： RDB（快照） AOF（Append Only File） 混合持...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"redis\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2026-02-10T08:07:34.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://blackhsiao.com/notes/%E4%B8%AD%E9%97%B4%E4%BB%B6/gzbpurt4/"}],["meta",{"property":"og:site_name","content":"Black Hsiao 的技术笔记"}],["meta",{"property":"og:title","content":"redis"}],["meta",{"property":"og:description","content":"一、Redis 运维需要掌握的核心内容 1. Redis 基础知识 数据类型： String Hash List Set Sorted Set Stream 等 基本命令： GET、SET HGET/HSET LPUSH/LPUSHX SADD ZADD EXPIRE 等 持久化方式： RDB（快照） AOF（Append Only File） 混合持..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2026-02-10T08:07:34.000Z"}],["meta",{"property":"article:modified_time","content":"2026-02-10T08:07:34.000Z"}]]},"readingTime":{"minutes":2.51,"words":754},"git":{"createdTime":1770710854000,"updatedTime":1770710854000,"contributors":[{"name":"BlackSiao","username":"BlackSiao","email":"1546600539@qq.com","commits":1,"avatar":"https://avatars.githubusercontent.com/BlackSiao?v=4","url":"https://github.com/BlackSiao"}]},"autoDesc":true,"filePathRelative":"notes/中间件/redis.md","headers":[],"categoryList":[{"id":"4358b5","sort":10001,"name":"notes"},{"id":"81d3df","sort":10003,"name":"中间件"}]}');export{d as comp,p as data};
