<!doctype html><html lang="zh-CN"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="generator" content="VuePress 2.0.0-rc.24" /><meta name="theme" content="VuePress Theme Plume 1.0.0-rc.164" /><script id="check-mac-os">document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))</script><script id="check-dark-mode">;(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;const isDark = um === 'dark' || (um !== 'light' && sm);document.documentElement.dataset.theme = isDark ? 'dark' : 'light';})();</script><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"交换机","image":[""],"dateModified":"2026-02-10T08:07:34.000Z","author":[]}</script><meta property="og:url" content="https://blackhsiao.com/notes/Internet/bh960y6g/"><meta property="og:site_name" content="Black Hsiao 的技术笔记"><meta property="og:title" content="交换机"><meta property="og:description" content="1. 基础概念 1.1 交换机（Switch）是什么？ 交换机是一种工作在 数据链路层（第二层） 的网络设备，用于在局域网中根据 MAC 地址 转发数据帧，实现多个终端设备之间的高效通信。 1.2 集线器（Hub）与交换机的区别 2. 设备通信过程详解 2.1 通信前提 主机A（192.168.1.10）需要与主机B（192.168.1.20）通信 两..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2026-02-10T08:07:34.000Z"><meta property="article:modified_time" content="2026-02-10T08:07:34.000Z"><link rel="icon" type="image/png" href="https://theme-plume.vuejs.press/favicon-32x32.png"><meta name="google" content="notranslate"><script>
      if (window.location.pathname === '/' && !localStorage.getItem('vuepress-lang-preference')) {
        localStorage.setItem('vuepress-lang-preference', 'zh-CN');
      }
    </script><title>交换机 | Black Hsiao 的技术笔记</title><meta name="description" content="1. 基础概念 1.1 交换机（Switch）是什么？ 交换机是一种工作在 数据链路层（第二层） 的网络设备，用于在局域网中根据 MAC 地址 转发数据帧，实现多个终端设备之间的高效通信。 1.2 集线器（Hub）与交换机的区别 2. 设备通信过程详解 2.1 通信前提 主机A（192.168.1.10）需要与主机B（192.168.1.20）通信 两..."><link rel="preload" href="/assets/style-COt8Kyae.css" as="style"><link rel="stylesheet" href="/assets/style-COt8Kyae.css"><link rel="modulepreload" href="/assets/app-UDSOE8tV.js"><link rel="modulepreload" href="/assets/index.html-DKh8iWhS.js"></head><body><div id="app"><!--[--><!--[--><div class="theme-plume vp-layout" vp-container data-v-f73ca3da><!--[--><!--[--><!--]--><!--[--><span tabindex="-1" data-v-17e3d305></span><a href="#VPContent" class="vp-skip-link visually-hidden" data-v-17e3d305> Skip to content </a><!--]--><!----><header class="vp-nav" data-v-f73ca3da data-v-e98a6132><div class="vp-navbar" vp-navbar data-v-e98a6132 data-v-2c31ea5e><div class="wrapper" data-v-2c31ea5e><div class="container" data-v-2c31ea5e><div class="title" data-v-2c31ea5e><div class="vp-navbar-title has-sidebar" data-v-2c31ea5e data-v-1a4f50af><a class="vp-link link no-icon title" href="/" data-v-1a4f50af><!--[--><!--[--><!--]--><!--[--><!--[--><!--[--><img class="vp-image dark logo" style="" src="https://theme-plume.vuejs.press/plume.png" alt data-v-480e858a><!--]--><!--[--><img class="vp-image light logo" style="" src="https://theme-plume.vuejs.press/plume.png" alt data-v-480e858a><!--]--><!--]--><!--]--><span data-v-1a4f50af>Black Hsiao 的技术笔记</span><!--[--><!--]--><!--]--><!----></a></div></div><div class="content" data-v-2c31ea5e><div class="content-body" data-v-2c31ea5e><!--[--><!--]--><div class="vp-navbar-search search" data-v-2c31ea5e><div class="search-wrapper" data-v-97535d1e><!----><div id="local-search" data-v-97535d1e><button type="button" class="mini-search mini-search-button" aria-label="搜索文档" data-v-97535d1e><span class="mini-search-button-container"><span class="mini-search-search-icon vpi-mini-search" aria-label="search icon"></span><span class="mini-search-button-placeholder">搜索文档</span></span><span class="mini-search-button-keys"><kbd class="mini-search-button-key"></kbd><kbd class="mini-search-button-key">K</kbd></span></button></div></div></div><!--[--><!--]--><nav aria-labelledby="main-nav-aria-label" class="vp-navbar-menu menu" data-v-2c31ea5e data-v-d43c1732><span id="main-nav-aria-label" class="visually-hidden" data-v-d43c1732>Main Navigation</span><!--[--><!--[--><a class="vp-link link navbar-menu-link" href="/" tabindex="0" data-v-d43c1732 data-v-d4acf911><!--[--><!----><span data-v-d4acf911>首页</span><!----><!--]--><!----></a><!--]--><!--[--><a class="vp-link link navbar-menu-link" href="/blog/" tabindex="0" data-v-d43c1732 data-v-d4acf911><!--[--><!----><span data-v-d4acf911>博客</span><!----><!--]--><!----></a><!--]--><!--[--><a class="vp-link link navbar-menu-link" href="/blog/tags/" tabindex="0" data-v-d43c1732 data-v-d4acf911><!--[--><!----><span data-v-d4acf911>标签</span><!----><!--]--><!----></a><!--]--><!--[--><a class="vp-link link navbar-menu-link" href="/blog/archives/" tabindex="0" data-v-d43c1732 data-v-d4acf911><!--[--><!----><span data-v-d4acf911>归档</span><!----><!--]--><!----></a><!--]--><!--[--><div class="vp-flyout vp-navbar-menu-group" data-v-d43c1732 data-v-86530b6c><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-86530b6c><span class="text" data-v-86530b6c><!----><!----><span data-v-86530b6c>笔记</span><!----><span class="vpi-chevron-down text-icon" data-v-86530b6c></span></span></button><div class="menu" data-v-86530b6c><div class="vp-menu" data-v-86530b6c data-v-709dc2b1><div class="items" data-v-709dc2b1><!--[--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-1ff1855f><a class="vp-link link" href="/notes/Internet/" data-v-1ff1855f><!--[--><!----> Internet <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-1ff1855f><a class="vp-link link" href="/notes/Linux/" data-v-1ff1855f><!--[--><!----> Linux <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-1ff1855f><a class="vp-link link" href="/notes/%E5%AE%9E%E6%93%8D/8tjui8dt/" data-v-1ff1855f><!--[--><!----> 实操 <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-1ff1855f><a class="vp-link link" href="/notes/%E4%B8%AD%E9%97%B4%E4%BB%B6/" data-v-1ff1855f><!--[--><!----> 中间件 <!----><!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-1ff1855f><a class="vp-link link" href="/notes/硬件相关内容/" data-v-1ff1855f><!--[--><!----> 硬件相关内容 <!----><!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!--[--><!--]--><!----><div class="vp-navbar-appearance appearance" data-v-2c31ea5e data-v-a295abf6><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-a295abf6 data-v-596c25a9 data-v-7eb32327><span class="check" data-v-7eb32327><span class="icon" data-v-7eb32327><!--[--><span class="vpi-sun sun" data-v-596c25a9></span><span class="vpi-moon moon" data-v-596c25a9></span><!--]--></span></span></button></div><div class="vp-social-links vp-navbar-social-links social-links" data-v-2c31ea5e data-v-ad52545c data-v-40bac536><!--[--><a class="vp-social-link no-icon" href="/" aria-label="github" target="_blank" rel="noopener" data-v-40bac536 data-v-67b21932><span class="vpi-social-github" /></a><!--]--></div><div class="vp-flyout vp-navbar-extra extra" data-v-2c31ea5e data-v-652282fd data-v-86530b6c><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-86530b6c><span class="vpi-more-horizontal icon" data-v-86530b6c></span></button><div class="menu" data-v-86530b6c><div class="vp-menu" data-v-86530b6c data-v-709dc2b1><!----><!--[--><!--[--><!----><div class="group" data-v-652282fd><div class="item appearance" data-v-652282fd><p class="label" data-v-652282fd>外观</p><div class="appearance-action" data-v-652282fd><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-652282fd data-v-596c25a9 data-v-7eb32327><span class="check" data-v-7eb32327><span class="icon" data-v-7eb32327><!--[--><span class="vpi-sun sun" data-v-596c25a9></span><span class="vpi-moon moon" data-v-596c25a9></span><!--]--></span></span></button></div></div></div><div class="group" data-v-652282fd><div class="item social-links" data-v-652282fd><div class="vp-social-links social-links-list" data-v-652282fd data-v-40bac536><!--[--><a class="vp-social-link no-icon" href="/" aria-label="github" target="_blank" rel="noopener" data-v-40bac536 data-v-67b21932><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="vp-navbar-hamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="nav-screen" data-v-2c31ea5e data-v-2b50024d><span class="container" data-v-2b50024d><span class="top" data-v-2b50024d></span><span class="middle" data-v-2b50024d></span><span class="bottom" data-v-2b50024d></span></span></button></div></div></div></div><div class="divider" data-v-2c31ea5e><div class="divider-line" data-v-2c31ea5e></div></div></div><!----></header><div class="vp-local-nav reached-top" data-v-f73ca3da data-v-3944d8e8><button class="menu" aria-expanded="false" aria-controls="SidebarNav" data-v-3944d8e8><span class="vpi-align-left menu-icon" data-v-3944d8e8></span><span class="menu-text" data-v-3944d8e8>Menu</span></button><div class="vp-local-nav-outline-dropdown" style="--vp-vh:0px;" data-v-3944d8e8 data-v-4114a62c><button data-v-4114a62c>返回顶部</button><!----></div></div><aside class="vp-sidebar" vp-sidebar data-v-f73ca3da data-v-95211354><div class="curtain" data-v-95211354></div><nav id="SidebarNav" class="nav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-95211354><span id="sidebar-aria-label" class="visually-hidden" data-v-95211354> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-473fd05b><section class="vp-sidebar-item sidebar-item level-0 has-active" data-v-473fd05b data-v-12048f0f><!----><div data-v-12048f0f data-v-12048f0f><div class="items" data-v-12048f0f><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/notes/Internet/s1hevuji/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>protocol</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/notes/Internet/fekunc0q/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>snmp</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/notes/Internet/bh960y6g/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>交换机</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/notes/Internet/ud93mxjp/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>浏览器F12</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/notes/Internet/bqi3uy5p/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>深入学习HTTP请求</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/notes/Internet/x1qd603i/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>port</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/notes/Internet/lwzcdkux/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>计算机网络常用命令</span><!----></p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-12048f0f data-v-12048f0f><div class="item" data-v-12048f0f><div class="indicator" data-v-12048f0f></div><!----><a class="vp-link link link" href="/notes/Internet/gryze16c/" data-v-12048f0f><!--[--><p class="text" data-v-12048f0f><span data-v-12048f0f>路由</span><!----></p><!--]--><!----></a><!----></div><!----></div><!--]--></div></div></section></div><!--]--><!--[--><!--]--></nav></aside><!--[--><div id="VPContent" vp-content class="vp-content has-sidebar" data-v-f73ca3da data-v-b2beaca7><div class="vp-doc-container has-sidebar has-aside" data-v-b2beaca7 data-v-23f6ad98><!--[--><!--]--><div class="container" data-v-23f6ad98><div class="aside" vp-outline data-v-23f6ad98><div class="aside-curtain" data-v-23f6ad98></div><div class="aside-container" data-v-23f6ad98><div class="aside-content" data-v-23f6ad98><div class="vp-doc-aside" data-v-23f6ad98 data-v-5976474c><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="vp-doc-aside-outline" role="navigation" data-v-5976474c data-v-aa56eba0><div class="content" data-v-aa56eba0><div class="outline-marker" data-v-aa56eba0></div><div id="doc-outline-aria-label" aria-level="2" class="outline-title" role="heading" data-v-aa56eba0><span data-v-aa56eba0>此页内容</span><span class="vpi-print icon" data-v-aa56eba0></span></div><ul class="root" data-v-aa56eba0 data-v-3e6b023c><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-5976474c></div><!--[--><!--]--></div></div></div></div><div class="content" data-v-23f6ad98><div class="content-container" data-v-23f6ad98><!--[--><!--]--><main class="main" data-v-23f6ad98><nav class="vp-breadcrumb" data-v-23f6ad98 data-v-1ae4ad7a><ol vocab="https://schema.org/" typeof="BreadcrumbList" data-v-1ae4ad7a><!--[--><li property="itemListElement" typeof="ListItem" data-v-1ae4ad7a><a class="vp-link link breadcrumb" href="/" property="item" typeof="WebPage" data-v-1ae4ad7a><!--[-->首页<!--]--><!----></a><span class="vpi-chevron-right" data-v-1ae4ad7a></span><meta property="name" content="首页" data-v-1ae4ad7a><meta property="position" content="1" data-v-1ae4ad7a></li><li property="itemListElement" typeof="ListItem" data-v-1ae4ad7a><a class="vp-link link breadcrumb current" href="/notes/Internet/bh960y6g/" property="item" typeof="WebPage" data-v-1ae4ad7a><!--[-->交换机<!--]--><!----></a><!----><meta property="name" content="交换机" data-v-1ae4ad7a><meta property="position" content="2" data-v-1ae4ad7a></li><!--]--></ol></nav><!--[--><!--]--><!--[--><h1 class="vp-doc-title page-title" data-v-ba8d1a1e><!----> 交换机 <!----></h1><div class="vp-doc-meta" data-v-ba8d1a1e><!--[--><!--]--><p class="reading-time" data-v-ba8d1a1e><span class="vpi-books icon" data-v-ba8d1a1e></span><span data-v-ba8d1a1e>约 1496 字</span><span data-v-ba8d1a1e>大约 5 分钟</span></p><!----><!--[--><!--]--><p class="create-time" data-v-ba8d1a1e><span class="vpi-clock icon" data-v-ba8d1a1e></span><span data-v-ba8d1a1e>2025-09-21</span></p></div><!--]--><!--[--><!--]--><div class="_notes_Internet_bh960y6g_ external-link-icon-enabled vp-doc plume-content" vp-content data-v-23f6ad98><!--[--><!--]--><div data-v-23f6ad98><hr><h2 id="_1-基础概念" tabindex="-1"><a class="header-anchor" href="#_1-基础概念"><span>1. 基础概念</span></a></h2><h3 id="_1-1-交换机-switch-是什么" tabindex="-1"><a class="header-anchor" href="#_1-1-交换机-switch-是什么"><span>1.1 交换机（Switch）是什么？</span></a></h3><p>交换机是一种工作在 <strong>数据链路层（第二层）</strong> 的网络设备，用于在局域网中根据 <strong>MAC 地址</strong> 转发数据帧，实现多个终端设备之间的高效通信。</p><hr><h3 id="_1-2-集线器-hub-与交换机的区别" tabindex="-1"><a class="header-anchor" href="#_1-2-集线器-hub-与交换机的区别"><span>1.2 集线器（Hub）与交换机的区别</span></a></h3><table><thead><tr><th>比较项</th><th>集线器（Hub）</th><th>交换机（Switch）</th></tr></thead><tbody><tr><td><strong>工作层级</strong></td><td>物理层（第一层）</td><td>数据链路层（第二层）</td></tr><tr><td><strong>数据转发方式</strong></td><td>广播：转发到所有端口</td><td>点对点：根据 MAC 地址精确转发</td></tr><tr><td><strong>同时通信能力</strong></td><td>不支持，易发生冲突</td><td>支持多端口同时通信，避免冲突</td></tr><tr><td><strong>带宽利用</strong></td><td>所有端口共享带宽，效率低</td><td>每个端口独立带宽，转发更高效</td></tr><tr><td><strong>是否学习地址表</strong></td><td>❌ 否</td><td>✅ 是，自动学习并维护 MAC 地址表（CAM 表）</td></tr></tbody></table><hr><h2 id="_2-设备通信过程详解" tabindex="-1"><a class="header-anchor" href="#_2-设备通信过程详解"><span>2. 设备通信过程详解</span></a></h2><h3 id="_2-1-通信前提" tabindex="-1"><a class="header-anchor" href="#_2-1-通信前提"><span>2.1 通信前提</span></a></h3><ul><li>主机A（<code>192.168.1.10</code>）需要与主机B（<code>192.168.1.20</code>）通信</li><li>两者在同一 VLAN 中，通过交换机连接</li><li>主机A已知主机B的 <strong>IP 地址</strong>，但不知道其 <strong>MAC 地址</strong></li></ul><hr><h3 id="_2-2-详细通信流程" tabindex="-1"><a class="header-anchor" href="#_2-2-详细通信流程"><span>2.2 详细通信流程</span></a></h3><h4 id="步骤一-arp-请求广播-寻找-mac-地址" tabindex="-1"><a class="header-anchor" href="#步骤一-arp-请求广播-寻找-mac-地址"><span>步骤一：ARP 请求广播（寻找 MAC 地址）</span></a></h4><ul><li>主机A需要封装以太网帧，但不知道B的 MAC</li><li>于是发送 <strong>ARP 请求广播帧</strong>： <ul><li>目标 MAC：<code>FF:FF:FF:FF:FF:FF</code>（广播地址）</li><li>内容：谁是 <code>192.168.1.20</code>？请告诉我你的 MAC！</li></ul></li></ul><h4 id="步骤二-交换机-泛洪-广播帧" tabindex="-1"><a class="header-anchor" href="#步骤二-交换机-泛洪-广播帧"><span>步骤二：交换机“泛洪”广播帧</span></a></h4><ul><li>交换机接收到广播帧，但无法在 MAC 表中找到目标 → 触发 <strong>泛洪机制</strong></li><li>将广播帧转发到除发送端口外的所有端口</li><li>同时，交换机学习到：<strong>主机A的 MAC 地址</strong> 来自某个端口 → 加入 MAC 地址表</li></ul><h4 id="步骤三-主机b收到-arp-请求并应答" tabindex="-1"><a class="header-anchor" href="#步骤三-主机b收到-arp-请求并应答"><span>步骤三：主机B收到 ARP 请求并应答</span></a></h4><ul><li>主机B识别 IP 地址匹配，回发 <strong>ARP 响应帧</strong>： <ul><li>源 MAC：B 的 MAC 地址</li><li>目标 MAC：A 的 MAC 地址（单播）</li></ul></li></ul><h4 id="步骤四-交换机学习-b-的-mac-地址" tabindex="-1"><a class="header-anchor" href="#步骤四-交换机学习-b-的-mac-地址"><span>步骤四：交换机学习 B 的 MAC 地址</span></a></h4><ul><li>交换机收到 ARP 响应帧，学习到 <strong>B 的 MAC</strong> → 加入 MAC 地址表</li><li>之后 A→B 的数据帧，交换机可直接点对点转发，不再广播</li></ul><h4 id="步骤五-主机a正式通信" tabindex="-1"><a class="header-anchor" href="#步骤五-主机a正式通信"><span>步骤五：主机A正式通信</span></a></h4><ul><li>主机A将数据帧目标 MAC 设置为 <strong>主机B的 MAC</strong></li><li>交换机查表找到正确端口 → 完成 <strong>高效点对点通信</strong></li></ul><hr><h3 id="mac-地址老化机制" tabindex="-1"><a class="header-anchor" href="#mac-地址老化机制"><span>MAC 地址老化机制</span></a></h3><ul><li>交换机维护的 MAC 地址表会定期老化</li><li>默认老化时间约 <strong>300 秒（5分钟）</strong></li><li>若期间未收到对应 MAC 的流量 → 表项被移除，下次通信需重新泛洪学习</li></ul><hr><h2 id="_3-补充概念与注意事项" tabindex="-1"><a class="header-anchor" href="#_3-补充概念与注意事项"><span>3. 补充概念与注意事项</span></a></h2><h3 id="_3-1-交换机是否使用-ip-地址" tabindex="-1"><a class="header-anchor" href="#_3-1-交换机是否使用-ip-地址"><span>3.1 交换机是否使用 IP 地址？</span></a></h3><ul><li>❌ 普通二层交换机不处理 IP 地址，ARP 时只负责转发广播帧</li><li>✅ 三层交换机才具备基于 IP 的转发能力（类似路由器）</li></ul><hr><h3 id="_3-2-什么是-泛洪" tabindex="-1"><a class="header-anchor" href="#_3-2-什么是-泛洪"><span>3.2 什么是“泛洪”？</span></a></h3><p><strong>泛洪（Flooding）</strong>：交换机接收到某些帧（通常是广播或未知单播）时，将其复制并转发到所有端口的过程。</p><hr><h3 id="_3-3-广播的种类" tabindex="-1"><a class="header-anchor" href="#_3-3-广播的种类"><span>3.3 广播的种类</span></a></h3><table><thead><tr><th>类型</th><th>描述</th></tr></thead><tbody><tr><td><strong>广播（Broadcast）</strong></td><td>目的 MAC 全 F，例如 ARP 请求</td></tr><tr><td><strong>多播（Multicast）</strong></td><td>目的 MAC 前缀为 <code>01:00:5e:xx:xx:xx</code></td></tr><tr><td><strong>未知单播（Unknown Unicast）</strong></td><td>目的 MAC 未知时，交换机临时广播（也称伪泛洪）</td></tr></tbody></table><hr><h3 id="_3-4-vlan-与接口类型" tabindex="-1"><a class="header-anchor" href="#_3-4-vlan-与接口类型"><span>3.4 VLAN 与接口类型</span></a></h3><h1 id="access-口与-trunk-口总结笔记" tabindex="-1"><a class="header-anchor" href="#access-口与-trunk-口总结笔记"><span>Access 口与 Trunk 口总结笔记</span></a></h1><h2 id="_1-基础概念-1" tabindex="-1"><a class="header-anchor" href="#_1-基础概念-1"><span>1. 基础概念</span></a></h2><h3 id="access-口" tabindex="-1"><a class="header-anchor" href="#access-口"><span>Access 口</span></a></h3><ul><li>一个端口只属于<strong>一个 VLAN</strong>。</li><li><strong>进方向（PC → SW）</strong>：交换机自动给帧打上 VLAN 标签。</li><li><strong>出方向（SW → PC）</strong>：交换机剥掉 VLAN 标签，PC 只看到普通以太网帧。</li><li><strong>特点</strong>：终端设备（PC、打印机等）对 VLAN 标签完全无感知。</li></ul><h3 id="trunk-口" tabindex="-1"><a class="header-anchor" href="#trunk-口"><span>Trunk 口</span></a></h3><ul><li>一个端口可以承载<strong>多个 VLAN</strong>的流量。</li><li><strong>进方向</strong>： <ul><li>如果帧带标签，就按标签处理；</li><li>如果没标签，则归属到该口的 <strong>native VLAN</strong>。</li></ul></li><li><strong>出方向</strong>： <ul><li>通常保留 VLAN 标签（native VLAN 的帧可以配置成不打标签）。</li></ul></li><li><strong>常用于</strong>： <ul><li>交换机与交换机之间的互联。</li><li>交换机与路由器（单臂路由）。</li><li>交换机与服务器（服务器网卡支持 VLAN Tag）。</li></ul></li></ul><h2 id="_2-使用场景" tabindex="-1"><a class="header-anchor" href="#_2-使用场景"><span>2. 使用场景</span></a></h2><h3 id="access-口-一个-vlan-对接终端" tabindex="-1"><a class="header-anchor" href="#access-口-一个-vlan-对接终端"><span>Access 口：一个 VLAN，对接终端</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-"><span class="line"><span>[PC]──(Access VLAN 10)──[Switch]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><strong>特点</strong>：PC 不需要配置 VLAN，接到对应 VLAN 的端口就能通信。</li></ul><h3 id="trunk-口-多个-vlan-对接网络设备" tabindex="-1"><a class="header-anchor" href="#trunk-口-多个-vlan-对接网络设备"><span>Trunk 口：多个 VLAN，对接网络设备</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-"><span class="line"><span>[SW1]──(Trunk VLAN 10,20,30)──[SW2]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><strong>特点</strong>：一根链路承载多个 VLAN，节省物理接口。</li></ul><h2 id="_3-交换机之间互联" tabindex="-1"><a class="header-anchor" href="#_3-交换机之间互联"><span>3. 交换机之间互联</span></a></h2><ul><li>两台交换机互联时，一般配置为 <strong>Trunk</strong>。</li><li>两端的 Trunk 口允许的 VLAN ID 必须保持一致。</li><li>VLAN 是靠 ID 区分的（名字只是说明用的），如果对端没有配置对应 VLAN ID，收到的帧会被丢弃。</li></ul><h2 id="_4-易混淆的点-重点✔" tabindex="-1"><a class="header-anchor" href="#_4-易混淆的点-重点✔"><span>4. 易混淆的点（重点✔）</span></a></h2><ul><li><strong>PC 对 VLAN 标签无感知</strong>： <ul><li>PC 发出的帧没有标签，交换机在 Access 口进来时打标签，出 Access 口时剥标签。</li></ul></li><li><strong>Trunk 口之间不会剥离 VLAN 标签</strong>： <ul><li>VLAN10 的帧从 SW1 出 Trunk 口时带着 VLAN10 标签，SW2 收到后仍然识别为 VLAN10。</li></ul></li><li><strong>Access 口</strong> = 一个 VLAN，不能同时属于多个 VLAN；如果要跑多个 VLAN，就必须用 <strong>Trunk</strong>。</li><li>交换机之间可以用 Access 口互联，但这样一条链路只能跑一个 VLAN，太浪费资源 → 实际中基本不用。</li><li>如果接口工作在 Trunk 模式，就要能识别 VLAN 标签。 比如：</li></ul><p>服务器：如果一块网卡同时跑多个 VLAN，就需要在网卡驱动里配置 VLAN Tag。这就是为啥在虚拟机平台创建虚拟机的时候要手动选择VLAN了</p><h2 id="_5-一句话总结" tabindex="-1"><a class="header-anchor" href="#_5-一句话总结"><span>5. 一句话总结</span></a></h2><ul><li><p><strong>Access</strong>：一个 VLAN，终端接入。</p></li><li><p><strong>Trunk</strong>：多个 VLAN，设备互联。</p></li><li><p><strong>应用场景</strong>：交换机互联 → Trunk；终端接入 → Access。</p></li><li><p><strong>Access 口</strong>：连接终端设备（PC、服务器），仅属于一个 VLAN</p></li><li><p><strong>Trunk 口</strong>：交换机间连接，可携带多个 VLAN 的数据帧</p></li><li><p>主机本身无需关心 VLAN，仅交换机负责处理<br><img src="/assets/switch-DJe_kAQ_.png" alt="Access和Trunk"></p></li></ul><hr></div><!----><!----><!----></div></main><footer class="vp-doc-footer" data-v-23f6ad98 data-v-7138e2cb><!--[--><!--]--><!----><div class="contributors" aria-label="Contributors" data-v-7138e2cb><span class="contributors-label" data-v-7138e2cb>贡献者: </span><span class="contributors-info" data-v-7138e2cb><!--[--><!--[--><span class="contributor" data-v-7138e2cb>BlackSiao</span><!----><!--]--><!--]--></span></div><nav class="prev-next" data-v-7138e2cb><div class="pager" data-v-7138e2cb><a class="vp-link link pager-link prev" href="/notes/Internet/fekunc0q/" data-v-7138e2cb><!--[--><span class="desc" data-v-7138e2cb>上一页</span><span class="title" data-v-7138e2cb>snmp</span><!--]--><!----></a></div><div class="pager" data-v-7138e2cb><a class="vp-link link pager-link next" href="/notes/Internet/ud93mxjp/" data-v-7138e2cb><!--[--><span class="desc" data-v-7138e2cb>下一页</span><span class="title" data-v-7138e2cb>浏览器F12</span><!--]--><!----></a></div></nav></footer><!----><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!--]--><button style="display:none;" type="button" class="vp-back-to-top" aria-label="back to top" data-v-f73ca3da data-v-bcf8d9a6><span class="percent" data-allow-mismatch data-v-bcf8d9a6>0%</span><span class="show icon vpi-back-to-top" data-v-bcf8d9a6></span><svg aria-hidden="true" data-v-bcf8d9a6><circle cx="50%" cy="50%" data-allow-mismatch style="stroke-dasharray:calc(0% - 12.566370614359172px) calc(314.1592653589793% - 12.566370614359172px);" data-v-bcf8d9a6></circle></svg></button><svg style="display:none;" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" aria-label="sign down" class="vp-sign-down" aria-hidden="true" data-v-f73ca3da data-v-900978de><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" data-v-900978de><path d="m19 11l-7 6l-7-6" data-v-900978de></path><path d="m19 5l-7 6l-7-6" opacity="0.6" data-v-900978de></path></g></svg><footer class="vp-footer has-sidebar" vp-footer data-v-f73ca3da data-v-400675cf><!--[--><div class="container" data-v-400675cf><p class="message" data-v-400675cf>Powered by <a target="_blank" href="https://v2.vuepress.vuejs.org/">VuePress</a> & <a target="_blank" href="https://theme-plume.vuejs.press">vuepress-theme-plume</a></p><!----></div><!--]--></footer><!--[--><!--]--><!--]--></div><!----><!--]--><!--[--><!--]--><!--]--></div><script type="module" src="/assets/app-UDSOE8tV.js" defer></script></body></html>